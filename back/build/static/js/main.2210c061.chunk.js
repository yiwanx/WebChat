(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{102:function(e,t){},165:function(e,t,a){"use strict";a.r(t);var n,c=a(0),r=a.n(c),s=a(62),o=a.n(s),l=(a(73),a(74),a(67)),m=a(3),i=a(63),u=a.n(i),f=a(20),E=a.n(f),g=a(21),p=a.n(g),v=a(64),b=a.n(v),h=a(65),d=function(e){var t=e.location,a=Object(c.useState)(""),n=Object(m.a)(a,2),s=n[0],o=n[1],l=Object(c.useState)(!1),i=Object(m.a)(l,2),u=i[0],f=i[1];Object(c.useEffect)((function(){var e=E.a.parse(t.search).room,a="";a=void 0!==t.hostname?"".concat(t.hostname,"/join&room=").concat(e):"".concat("localhost:4000","/join&room=").concat(e),o(a)}),[t.search]);return r.a.createElement("div",{className:"info-container"},r.a.createElement("div",{className:"container-left"},r.a.createElement("img",{className:"online-icon",src:p.a,alt:"online"}),r.a.createElement("h3",null,"Copy to invite:"),r.a.createElement("input",{value:s,onChange:function(e){o(e.target.value),f(!1)}}),r.a.createElement("div",{className:"copy-container"},r.a.createElement(h.CopyToClipboard,{text:s,onCopy:function(){return f(!0)}},r.a.createElement("button",null,"Copy to clipboard")),u?r.a.createElement("span",{style:{color:"#0066cc"}},"Copied."):null)),r.a.createElement("div",{className:"container-right"},r.a.createElement("a",{href:"/"},r.a.createElement("img",{src:b.a,alt:"close"}))))},j=function(e){var t=e.setMessage,a=e.sendMessage,n=e.message;return r.a.createElement("form",{className:"message-form"},r.a.createElement("input",{className:"message-input",type:"text",placeholder:"Type a message...",value:n,onChange:function(e){e.preventDefault(),t(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?a(e):null}}),r.a.createElement("button",{className:"send-button",onClick:function(e){return a(e)}},"Send"))},N=function(e){var t=e.message,a=t.user,n=t.text,c=t.time,s={current:{marginRight:20,color:"#4e009c"},other:{marginLeft:20,color:"#4e009c"}},o=!1;return a===e.name.toLowerCase()&&(o=!0),o?r.a.createElement("div",{className:"message-container message-container__current-user"},r.a.createElement("p",{style:s.current},c),r.a.createElement("p",{className:"sent-text sent-text__current-user"},a),r.a.createElement("div",{className:"message-box message-box__current-user"},r.a.createElement("p",{className:"message-text message-text__current-user"},n))):r.a.createElement("div",{className:"message-container message-container__other-user"},r.a.createElement("div",{className:"message-box message-box__other-user"},r.a.createElement("p",{className:"message-text message-text__other-user"},n)),r.a.createElement("p",{className:"sent-text sent-text__other-user"},a),r.a.createElement("p",{style:s.other},c))},O=a(22),x=a.n(O),y=function(e){var t=e.messages,a=e.name,n=t.map((function(e,t){return r.a.createElement(N,{key:t,message:e,name:a})}));return r.a.createElement(x.a,{className:"messages"},n)},S=function(e){var t=e.users;return void 0!==t.users?r.a.createElement("div",{className:"users-container"},r.a.createElement("h1",null,"People currently chatting:"),r.a.createElement(x.a,{className:"active-container"},t.users.map((function(e){var t=e.name;return r.a.createElement("div",{key:t,className:"active-item"},t,r.a.createElement("img",{className:"online-icon",alt:"Online Icon",src:p.a}))})))):r.a.createElement("div",null)},_=function(e){var t=e.location,a=Object(c.useState)(""),s=Object(m.a)(a,2),o=s[0],i=s[1],f=Object(c.useState)(""),g=Object(m.a)(f,2),p=(g[0],g[1]),v=Object(c.useState)([]),b=Object(m.a)(v,2),h=b[0],N=b[1],O=Object(c.useState)([]),x=Object(m.a)(O,2),_=x[0],C=x[1],k=Object(c.useState)(""),w=Object(m.a)(k,2),M=w[0],D=w[1],I="localhost:4000",B=t.hostname?t.search:I;Object(c.useEffect)((function(){var e=E.a.parse(t.search),a=e.name,c=e.room;n=u()(I),i(a),p(c),n.emit("join",{name:a,room:c},(function(e){e&&alert(e)}))}),[B,t.search]),Object(c.useEffect)((function(){n.on("message",(function(e){N((function(t){return[].concat(Object(l.a)(t),[e])}))})),n.on("roomData",(function(e){C(e)}))}),[]);return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"chat-container"},r.a.createElement(d,{location:t}),r.a.createElement(y,{messages:h,name:o}),r.a.createElement(j,{message:M,setMessage:D,sendMessage:function(e){e.preventDefault(),M&&n.emit("sendMessage",M,(function(){return D("")}))}})),r.a.createElement(S,{users:_}))},C=a(13),k=a(167),w=function(){var e=Object(c.useState)(""),t=Object(m.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(""),o=Object(m.a)(s,2),l=o[0],i=o[1];return Object(c.useEffect)((function(){i(Object(k.a)())}),[]),r.a.createElement("div",{className:"create-container"},r.a.createElement("form",{className:"create-form"},r.a.createElement("h1",null,"Sign in (Create new Room)"),r.a.createElement("div",{className:"form-input"},r.a.createElement("input",{placeholder:"Name",value:a,onChange:function(e){return n(e.target.value)}})),r.a.createElement(C.b,{onClick:function(e){return l&&a?null:e.preventDefault()},to:"/chat?name=".concat(a,"&room=").concat(l)},r.a.createElement("button",{type:"submit",text:"Sign in",className:"btn"},"Sign In"))))},M=function(e){var t=e.match,a=Object(c.useState)(""),n=Object(m.a)(a,2),s=n[0],o=n[1],l=Object(c.useState)(""),i=Object(m.a)(l,2),u=i[0],f=i[1];return Object(c.useEffect)((function(){var e=t.params.room;f(e)}),[t.params.room]),r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"create-form"},r.a.createElement("h1",null,"Sign into existing chat"),r.a.createElement("div",{className:"form-input"},r.a.createElement("input",{placeholder:"Name",value:s,onChange:function(e){return o(e.target.value)}})),r.a.createElement(C.b,{onClick:function(e){return u&&s?null:e.preventDefault()},to:"/chat?name=".concat(s).concat(u)},r.a.createElement("button",{type:"submit",className:"btn"},"Sign In"))))},D=a(1),I=function(){return r.a.createElement(C.a,null,r.a.createElement(D.a,{exact:!0,path:"/",component:w}),r.a.createElement(D.a,{path:"/chat",component:_}),r.a.createElement(D.a,{path:"/join:room",component:M}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},21:function(e,t,a){e.exports=a.p+"static/media/online.1baa09a4.svg"},64:function(e,t,a){e.exports=a.p+"static/media/close.7be28059.svg"},68:function(e,t,a){e.exports=a(165)},73:function(e,t,a){},74:function(e,t,a){}},[[68,1,2]]]);
//# sourceMappingURL=main.2210c061.chunk.js.map